(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[572],{3174:function(e,t,s){Promise.resolve().then(s.bind(s,8283))},202:function(e,t,s){"use strict";s.d(t,{i8:function(){return i},uu:function(){return n},CT:function(){return r},tG:function(){return a}});let c=async()=>{try{await fetch("".concat("https://sideline-sidekick-app.web.app/api","/version"),{method:"PUT"})}catch(e){console.log("Error updating version",e)}},a=async()=>{try{let e=await fetch("".concat("https://sideline-sidekick-app.web.app/api","/categories"));return(await e.json()).categories}catch(e){return console.log("Error getting categories",e),[]}},n=async e=>{try{let t="".concat("https://sideline-sidekick-app.web.app/api","/categories/").concat(e);if(!t)throw Error("API URL is not defined");await fetch(t,{method:"DELETE"}),await c()}catch(e){console.log("Error delete category",e)}},r=async(e,t)=>{try{let s="".concat("https://sideline-sidekick-app.web.app/api","/categories/").concat(e,"/").concat(t);if(!s)throw Error("API URL is not defined");await fetch(s,{method:"PUT"}),await c()}catch(e){console.log("Error deleting page",e)}},i=async(e,t)=>{try{let s="".concat("https://sideline-sidekick-app.web.app/api","/categories");if(!s)throw Error("API URL is not defined");console.log(e),console.log(t),await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,items:[],type:t})}),await c()}catch(e){console.log("Error deleting page",e)}}},8283:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var c=s(7437),a=s(5313),n=s(2265),r=s(202),i=s(4654),l=s(9464),o=s(5713);let d=e=>{let{id:t,page:s,categoryId:a,title:r,onDeletePage:d}=e,[u,h]=(0,n.useState)("public"),[x,m]=(0,n.useState)(!1),[p,g]=(0,n.useState)(!1),f=()=>{g(!0)};return(0,c.jsxs)("tr",{className:"border-b",children:[(0,c.jsx)("td",{className:"w-1/4 text-center py-3",children:s}),(0,c.jsx)("td",{className:"w-1/4 text-center py-3",children:(0,c.jsxs)("select",{disabled:!x,className:"p-1 text-center rounded-md ".concat("public"===u?"bg-[#E5EFF5]":"bg-[#D9D9D9]"," ").concat(x?"appearance-auto":"appearance-none"),value:u,onChange:e=>{h(e.target.value)},children:[(0,c.jsx)("option",{value:"public",children:"Public"}),(0,c.jsx)("option",{value:"hidden",children:"Hidden"})]})}),(0,c.jsx)("td",{className:"w-1/4 text-center py-3",children:r}),(0,c.jsxs)("td",{className:"w-1/4 text-center py-3",children:[(0,c.jsx)("button",{className:"mr-3 bg-[#E5EFF5] p-2 rounded-full border border-black",onClick:()=>{m(!x)},children:(0,c.jsx)("img",{src:i.Z.src,alt:"Edit",className:"w-4 h-4"})}),(0,c.jsx)("button",{className:"bg-[#E5EFF5] p-2 rounded-full border border-black",children:(0,c.jsx)("img",{src:l.Z.src,alt:"Delete",className:"w-4 h-4",onClick:()=>{f()}})}),p?(0,c.jsx)(o.Z,{onDelete:()=>{try{d(a,s),g(!1)}catch(e){console.error("Error deleting category:",e)}},onCancel:()=>{g(!1)},type:"page"}):null]})]},t)};var u=e=>{let{items:t,onDeletePage:s}=e;return(0,c.jsx)("table",{children:(0,c.jsxs)("tbody",{children:[(0,c.jsxs)("tr",{className:"border-b",children:[(0,c.jsx)("th",{className:"w-1/4 text-center py-3",children:"Page Name"}),(0,c.jsx)("th",{className:"w-1/4 text-center py-3",children:"Visibility"}),(0,c.jsx)("th",{className:"w-1/4 text-center py-3",children:"Category"}),(0,c.jsx)("th",{className:"w-1/4 text-center py-3",children:"Actions"})]}),t.map(e=>e.items.map((t,a)=>(0,c.jsx)(d,{id:"".concat(String(a),"-").concat(String(a)),categoryId:e._id,page:t,title:e.title,onDeletePage:s},"".concat(String(a),"-").concat(String(a)))))]})})},h=s(8798);function x(){let e=(0,a.useSearchParams)().get("category"),[t,s]=(0,n.useState)(JSON.parse(e||"")),[i,l]=(0,n.useState)(!1);(0,n.useEffect)(()=>{e&&s(JSON.parse(e||""))},[e]);let o=async(e,c)=>{try{console.log("Deleting page:",c),await (0,r.CT)(e,c),l(!0);let a=t.items.filter(e=>e!==c);console.log(t),s(e=>({...e,items:a}))}catch(e){console.error("Error deleting category:",e)}};return(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen w-screen overflow-auto p-20 gap-8 bg-[#E5EFF5]",children:[(0,c.jsx)("div",{className:"flex flex-row justify-between w-5/6",children:(0,c.jsx)("h1",{className:"text-start text-2xl font-bold",children:t?t.title:"ooga"})}),(0,c.jsxs)("div",{className:"flex flex-col h-max w-5/6 p-10 rounded-md bg-white",children:[(0,c.jsxs)("div",{className:"flex flex-row items-center justify-between mb-10",children:[(0,c.jsx)("h2",{className:"text-2xl",children:"All Pages"}),(0,c.jsxs)("div",{className:"flex flex-row flex-wrap justify-end gap-2",children:[(0,c.jsx)("button",{className:"px-4 py-2 rounded-md text-white bg-[#00629B]",children:"Edit Order"}),(0,c.jsx)("button",{className:"px-4 py-2 rounded-md text-white bg-[#00629B]",children:"+ Add Page"})]})]}),(0,c.jsx)(u,{items:[t],onDeletePage:o}),i&&(0,c.jsx)(h.Z,{backgroundColor:"#000000",message:"Page deleted",onClose:()=>{l(!1)}})]})]})}function m(){return(0,c.jsx)(n.Suspense,{children:(0,c.jsx)(x,{})})}},5713:function(e,t,s){"use strict";var c=s(7437);s(2265);var a=s(3029);t.Z=e=>{let{onDelete:t,onCancel:s,type:n}=e;return(0,c.jsx)("div",{className:"fixed top-0 left-0 w-full h-full flex items-center justify-center bg-gray-800 bg-opacity-50 z-50",children:(0,c.jsxs)("div",{className:"bg-white w-11/12 sm:w-3/4 md:w-2/3 lg:w-1/2 xl:w-2/5 p-8 rounded-md shadow-md flex flex-col justify-center",children:[(0,c.jsx)("button",{className:"flex justify-end mb-4",onClick:s,children:(0,c.jsx)("img",{src:a.Z.src,alt:"Close",className:"w-4 h-4"})}),(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsxs)("h1",{className:"text-xl sm:text-2xl text-[#182B49] font-bold",children:["Are you sure you want to delete",(0,c.jsx)("br",{}),"this ",n,"?"]}),(0,c.jsxs)("p",{className:"my-4 text-[#182B49]",children:["This ",n," cannot be restored and will not be saved."]}),(0,c.jsxs)("div",{className:"flex justify-evenly mt-4 sm:mt-6",children:[(0,c.jsx)("button",{className:"px-3 sm:px-4 py-2 bg-white text-[#00629B] rounded-md",onClick:s,children:"No, keep"}),(0,c.jsx)("button",{className:"px-4 sm:px-6 py-3 bg-[#00629B] text-white font-bold rounded-md",onClick:t,children:"Yes, delete"})]})]})]})})}},8798:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var c=s(7437),a=s(2265),n=s(3029),r=e=>{let{backgroundColor:t,message:s,onClose:r}=e;return(0,a.useEffect)(()=>{let e=setTimeout(()=>{r()},1e4);return()=>{clearTimeout(e)}},[]),(0,c.jsx)("div",{className:"top-20 right-10 absolute justify-center mb-4 z-50",children:(0,c.jsxs)("div",{style:{backgroundColor:t},className:"flex items-center justify-between w-auto py-4 px-6 rounded-lg transition-opacity duration-300 ease-in opacity-100 text-white",children:[(0,c.jsx)("img",{src:"/_next/static/media/check.5890c2a1.svg",alt:"Check",className:"w-4 h-4 mr-2"}),(0,c.jsx)("p",{className:"text-sm mr-2",children:s}),(0,c.jsx)("button",{className:"focus:outline-none",onClick:r,children:(0,c.jsx)("img",{src:n.Z.src,alt:"Close",className:"w-4 h-4"})})]})})}},3029:function(e,t){"use strict";t.Z={src:"/_next/static/media/close.642143c0.svg",height:14,width:15,blurWidth:0,blurHeight:0}},4654:function(e,t){"use strict";t.Z={src:"/_next/static/media/edit.7e8a8f57.svg",height:10,width:10,blurWidth:0,blurHeight:0}},9464:function(e,t){"use strict";t.Z={src:"/_next/static/media/trash.95cd703e.svg",height:14,width:14,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=3174)}),_N_E=e.O()}]);